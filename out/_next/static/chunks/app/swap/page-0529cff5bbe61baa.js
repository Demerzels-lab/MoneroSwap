(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{9673:function(e,t,s){Promise.resolve().then(s.bind(s,5626))},8811:function(e,t,s){"use strict";let a;s.r(t),s.d(t,{Providers:function(){return v},useMoneroWASM:function(){return y}});var n=s(8442),i=s(5301),r=s(4526),l=s(128),o=s(1426),c=s(2847),d=s(5662),m=s(2095),x=s(5761),h=s(5847),u=s(6294);let p=(0,l.createContext)(void 0),g={success:d.Z,error:m.Z,warning:x.Z,info:h.Z},b={success:"border-terminal-green/30 bg-terminal-green/10 text-terminal-green",error:"border-terminal-red/30 bg-terminal-red/10 text-terminal-red",warning:"border-terminal-yellow/30 bg-terminal-yellow/10 text-terminal-yellow",info:"border-cyber-blue/30 bg-cyber-blue/10 text-cyber-blue"};function f(e){let{children:t}=e,[s,a]=(0,l.useState)([]),i=(0,l.useCallback)((e,t,s)=>{let n=Date.now().toString();a(a=>[...a,{id:n,type:e,title:t,message:s}]),setTimeout(()=>{a(e=>e.filter(e=>e.id!==n))},4e3)},[]),r=e=>{a(t=>t.filter(t=>t.id!==e))};return(0,n.jsxs)(p.Provider,{value:{showToast:i},children:[t,(0,n.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:(0,n.jsx)(o.M,{children:s.map(e=>{let t=g[e.type];return(0,n.jsxs)(c.E.div,{initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9},className:"flex items-start gap-3 p-4 rounded-lg border backdrop-blur-xl min-w-[300px] max-w-[400px] ".concat(b[e.type]),children:[(0,n.jsx)(t,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"font-semibold text-white",children:e.title}),e.message&&(0,n.jsx)("p",{className:"text-sm opacity-80 mt-1",children:e.message})]}),(0,n.jsx)("button",{onClick:()=>r(e.id),className:"opacity-60 hover:opacity-100",children:(0,n.jsx)(u.Z,{className:"w-4 h-4"})})]},e.id)})})})]})}let j=(0,l.createContext)({isLoaded:!1,isLoading:!0,error:null});function y(){return(0,l.useContext)(j)}function v(e){let{children:t}=e,s=(a||(a=new i.S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1}}})),a),[o]=(0,l.useState)({isLoaded:!1,isLoading:!0,error:null});return(0,n.jsx)(r.aH,{client:s,children:(0,n.jsx)(j.Provider,{value:o,children:(0,n.jsx)(f,{children:t})})})}},5626:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Y}});var a=s(8442),n=s(128),i=s(2847),r=s(1426),l=s(1523),o=s(9621),c=s(7794);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=s(2419),x=s(4455);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,c.Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),u=(0,c.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var p=s(197),g=s(4903),b=s(5761),f=s(1377),j=s(1359),y=s(5432),v=s(6294),N=s(7922),w=s(3882);function k(e){let{currencies:t,selected:s,excludeId:r,onSelect:l,onClose:o}=e,[c,d]=(0,n.useState)(""),m=(0,n.useMemo)(()=>t.filter(e=>{let t=e.name.toLowerCase().includes(c.toLowerCase())||e.symbol.toLowerCase().includes(c.toLowerCase()),s=!r||e.id!==r;return t&&s}).sort((e,t)=>e.isNative&&!t.isNative?-1:!e.isNative&&t.isNative?1:e.name.localeCompare(t.name)),[t,c,r]),x=(0,n.useMemo)(()=>{let e={};return m.forEach(t=>{let s=t.chainType;e[s]||(e[s]=[]),e[s].push(t)}),e},[m]),h=e=>{switch(e){case"EVM":return"Ethereum & EVM Chains";case"SOLANA":return"Solana";case"XMR":return"Monero";default:return e}},u=e=>{switch(e){case"EVM":return"bg-blue-500/20 text-blue-400";case"SOLANA":return"bg-cyan-500/20 text-cyan-400";case"XMR":return"bg-monero-orange/20 text-monero-orange";default:return"bg-gray-500/20 text-gray-400"}};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:o,className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-sm card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Select Currency"}),(0,a.jsx)("button",{onClick:o,className:"p-1 rounded hover:bg-obsidian-800 transition-colors",children:(0,a.jsx)(v.Z,{className:"w-5 h-5 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)(N.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),(0,a.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Search currency...",className:"w-full pl-10 pr-4 py-2 bg-obsidian-800 border border-obsidian-700 rounded-lg   text-white placeholder-gray-500 focus:outline-none focus:border-monero-orange",autoFocus:!0})]}),(0,a.jsxs)("div",{className:"max-h-80 overflow-y-auto space-y-4 pr-2",children:[Object.entries(x).map(e=>{let[t,n]=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(u(t)),children:h(t)}),(0,a.jsxs)("span",{className:"text-gray-500 text-xs",children:[n.length," token",1!==n.length?"s":""]})]}),(0,a.jsx)("div",{className:"space-y-1",children:n.map(e=>(0,a.jsxs)(i.E.button,{onClick:()=>l(e),whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full flex items-center gap-3 p-2.5 rounded-lg transition-all ".concat(s===e.id?"bg-monero-orange/20 border border-monero-orange/30":"bg-obsidian-800/50 border border-transparent hover:bg-obsidian-800"),children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.name}),e.isNative&&(0,a.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-terminal-green/20 text-terminal-green text-[10px] font-medium",children:"NATIVE"})]}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:e.symbol})]}),s===e.id&&(0,a.jsx)(w.Z,{className:"w-5 h-5 text-monero-orange"})]},e.id))})]},t)}),0===m.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No currencies found"}),(0,a.jsx)("p",{className:"text-gray-600 text-xs mt-1",children:"Try a different search term"})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-obsidian-800",children:(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Bridge swaps between different chains supported"})})]})]})}var C=s(2165);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let S=(0,c.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var M=s(3861),Z=s(5451);function E(e){let{onClick:t,disabled:s,stage:r,needsConnection:l=!1,onConnectClick:c}=e,[d,x]=(0,n.useState)(5);return(0,n.useEffect)(()=>{if("preparing"===r){x(5);let e=setInterval(()=>{x(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)}},[r]),(0,a.jsx)(i.E.button,{onClick:()=>{l&&c?c():t()},disabled:s&&!l,whileHover:"idle"===r||l?{scale:1.02}:{},whileTap:"idle"===r||l?{scale:.98}:{},className:"w-full py-4 rounded-xl font-semibold font-mono text-sm transition-all flex items-center justify-center gap-2\n        ".concat("complete"===r?"bg-terminal-green hover:bg-terminal-green text-black":"","\n        ").concat(l?"bg-gradient-to-r from-monero-orange to-monero-orangeLight text-white hover:shadow-lg hover:shadow-monero-orange/30 cursor-pointer":"idle"===r?"bg-monero-orange text-white hover:bg-monero-orangeLight shadow-lg shadow-monero-orange/20 cursor-pointer":"bg-obsidian-800 text-gray-400 cursor-not-allowed","\n        ").concat(s&&!l?"opacity-50 cursor-not-allowed":"","\n      "),children:(()=>{switch(r){case"preparing":return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5 animate-spin"}),(0,a.jsxs)("span",{children:["Preparing Privacy Protocol... ",d,"s"]})]});case"signing":return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Generating Ring Signatures..."})]});case"broadcasting":return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Broadcasting Transaction..."})]});case"complete":return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Swap Complete!"})]});default:if(l)return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Connect Wallet to Swap"}),(0,a.jsx)(M.Z,{className:"w-4 h-4"})]});return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Initiate Privacy Swap"}),(0,a.jsx)(Z.Z,{className:"w-4 h-4"})]})}})()})}var T=s(1350),A=s(5847);let I=[.5,1,2,5],L=[5,10,15,20,25];function F(e){let{slippage:t,mixinCount:s,onClose:r}=e,{setSlippage:l,setMixinCount:o}=(0,f.go)(),[c,d]=(0,n.useState)(t),[m,x]=(0,n.useState)(s);return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-md card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"Swap Settings"}),(0,a.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-obsidian-800 transition-colors",children:(0,a.jsx)(v.Z,{className:"w-5 h-5 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-white",children:"Slippage Tolerance"}),(0,a.jsxs)("span",{className:"text-sm terminal-text",children:[c,"%"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:I.map(e=>(0,a.jsxs)("button",{onClick:()=>d(e),className:"py-2 px-3 rounded-lg font-mono text-sm transition-all ".concat(c===e?"bg-monero-orange text-white":"bg-obsidian-800 text-gray-400 hover:bg-obsidian-700"),children:[e,"%"]},e))}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{type:"number",value:c,onChange:e=>d(parseFloat(e.target.value)||1),step:.1,min:.1,max:50,className:"w-full px-3 py-2 bg-obsidian-800 border border-obsidian-700 rounded-lg   text-white font-mono text-sm focus:outline-none focus:border-monero-orange"})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Your transaction will revert if the price changes unfavorably by more than this percentage."})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-obsidian-800/50 border border-obsidian-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"p-1.5 rounded bg-monero-orange/10",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-monero-orange",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10"})})}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:"Monero Privacy Settings"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Ring Size (Mixin Count)"}),(0,a.jsxs)("span",{className:"text-sm terminal-text",children:[m," mixins"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2",children:L.map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"py-1.5 rounded font-mono text-xs transition-all ".concat(m===e?"bg-monero-orange text-white":"bg-obsidian-900 text-gray-400 hover:bg-obsidian-700"),children:e},e))}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Higher mixin count = stronger privacy = larger transaction size"})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("button",{className:"flex items-center justify-between w-full p-3 rounded-lg bg-obsidian-800/50 border border-obsidian-700 hover:border-obsidian-600 transition-colors",children:[(0,a.jsx)("span",{className:"text-sm text-white",children:"Advanced Settings"}),(0,a.jsx)(T.Z,{className:"w-4 h-4 text-gray-400"})]})}),(0,a.jsx)("div",{className:"mb-6 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(A.Z,{className:"w-4 h-4 text-blue-400 mt-0.5"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"These settings apply to all swaps. Privacy settings only affect Monero transactions."})]})}),(0,a.jsx)("button",{onClick:()=>{l(c),o(m),r()},className:"w-full btn-primary",children:"Save Settings"})]})]})}var P=s(2450);let R={"xmr-eth":.0035,"eth-xmr":285.7,"xmr-usdc":150,"usdc-xmr":.0067,"xmr-usdt":150,"usdt-xmr":.0067,"xmr-dai":150,"dai-xmr":.0067,"xmr-sol":4.5,"sol-xmr":.222,"eth-usdc":1800,"usdc-eth":56e-5,"eth-usdt":1800,"usdt-eth":56e-5,"sol-usdc":100,"usdc-sol":.01,"sol-usdt":100,"usdt-sol":.01,"bnb-xmr":200,"xmr-bnb":.005,"matic-xmr":.3,"xmr-matic":3.33,"link-xmr":4e3,"xmr-link":25e-5,"uni-xmr":2e3,"xmr-uni":5e-4,"avax-xmr":180,"xmr-avax":.0056};function z(e){let{onVisualizing:t}=e,{fromCurrencyId:s,toCurrencyId:l,fromAmount:c,toAmount:v,slippage:N,mixinCount:w,setFromCurrency:C,setToCurrency:S,setFromAmount:M,setToAmount:Z,swapDirection:T}=(0,f.go)(),{walletState:A,walletState:{isConnected:I,address:L,chainType:z}}=(0,f.X$)(),{addTransaction:O,updateTransactionStatus:U}=(0,j.Y)(),[B,H]=(0,n.useState)(!1),[V,W]=(0,n.useState)(!1),[X,D]=(0,n.useState)(null),[J,Y]=(0,n.useState)("idle"),q=(0,n.useMemo)(()=>y.ck.find(e=>e.id===s),[s]),_=(0,n.useMemo)(()=>y.ck.find(e=>e.id===l),[l]),{rate:G,isLoading:K}=function(e,t){let[s,a]=(0,n.useState)(1),[i,r]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),c=(0,n.useCallback)((e,t)=>R["".concat(e,"-").concat(t)]||1,[]),d=(0,n.useCallback)(async()=>{if(!e||!t||e===t){a(1);return}r(!0),o(null);try{let s=await P.E.getExchangeRate(e.toUpperCase(),t.toUpperCase());s&&s.rate?a(s.rate):a(c(e,t))}catch(s){console.error("Failed to fetch exchange rate:",s),o("Failed to fetch rate, using fallback"),a(c(e,t))}finally{r(!1)}},[e,t,c]);return(0,n.useEffect)(()=>{d()},[d]),{rate:s,isLoading:i,error:l,refetch:d}}(s,l);(0,n.useEffect)(()=>{if(c&&s!==l&&(0,y.tg)(s,l)){W(!0);let e=setTimeout(()=>{let e=parseFloat(c);if(isNaN(e))Z("");else{let t=e*G;Z(t<1e-4?t.toExponential(4):t.toFixed(6))}W(!1)},300);return()=>clearTimeout(e)}},[c,s,l,G,Z]);let Q=async()=>{if(!c||0>=parseFloat(c)||!q||!_)return;let e="0x".concat(Math.random().toString(16).substr(2,8),"...").concat(Math.random().toString(16).substr(2,4)),s=await O({fromToken:q.symbol,toToken:_.symbol,fromAmount:c,toAmount:v||"0",status:"pending",txHash:e},L||void 0);Y("preparing"),t(!0);try{await new Promise(e=>setTimeout(e,2e3)),Y("signing"),await new Promise(e=>setTimeout(e,3e3)),Y("broadcasting"),await new Promise(e=>setTimeout(e,2e3)),Y("complete"),U(s,"completed"),setTimeout(()=>{Y("idle"),t(!1),M(""),Z("")},3e3)}catch(e){U(s,"failed"),Y("idle"),t(!1)}},$=(0,n.useMemo)(()=>!(!c||0>=parseFloat(c))&&s!==l&&(0,y.tg)(s,l),[c,s,l]),ee=(0,n.useMemo)(()=>(0,y.Lq)(s,l),[s,l]),et=e=>{let t=y.ck.find(t=>t.id===e);return t?{icon:t.icon,name:t.name,symbol:t.symbol,chainType:t.chainType}:{icon:"?",name:"Unknown",symbol:e.toUpperCase()}},es=et(s),ea=et(l);return(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-monero-orange"}),(0,a.jsx)("span",{className:"font-semibold text-white",children:"Privacy Swap"})]}),(0,a.jsx)("button",{onClick:()=>H(!0),className:"p-2 rounded-lg hover:bg-obsidian-800 transition-colors",children:(0,a.jsx)(d,{className:"w-5 h-5 text-gray-400"})})]}),!I&&(0,a.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-obsidian-800/50 border border-obsidian-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 text-monero-orange"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-white text-sm font-medium",children:"Connect your wallet"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"Connect MetaMask or Phantom to start swapping"})]})]})}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"You pay"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Balance: ",A.balance||"0.00"," ",es.symbol]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>D("from"),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-obsidian-800 border border-obsidian-700    hover:border-monero-orange/50 transition-colors min-w-[120px]",children:[(0,a.jsx)("span",{className:"text-xl",children:es.icon}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:es.symbol}),(0,a.jsx)("span",{className:"text-[10px] text-gray-500",children:es.name})]}),(0,a.jsx)(x.Z,{className:"w-4 h-4 text-gray-400 ml-auto"})]}),(0,a.jsx)("input",{type:"number",value:c,onChange:e=>M(e.target.value),placeholder:"0.00",className:"flex-1 bg-transparent text-2xl font-mono text-white placeholder-gray-600    focus:outline-none text-right"})]})]}),(0,a.jsx)("div",{className:"flex justify-center -my-3 relative z-10",children:(0,a.jsx)("button",{onClick:()=>{C(l),S(s)},className:"p-2 rounded-full bg-obsidian-800 border border-obsidian-700 hover:border-monero-orange    transition-all shadow-lg hover:shadow-monero-orange/20 group",children:(0,a.jsx)(h,{className:"w-5 h-5 text-gray-400 group-hover:text-monero-orange transition-colors"})})}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"You receive"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:"Rate:"}),(0,a.jsxs)("span",{className:"terminal-text",children:["1 ",es.symbol," ≈ ",G.toFixed(6)," ",ea.symbol]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>D("to"),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-obsidian-800 border border-obsidian-700    hover:border-monero-orange/50 transition-colors min-w-[120px]",children:[(0,a.jsx)("span",{className:"text-xl",children:ea.icon}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:ea.symbol}),(0,a.jsx)("span",{className:"text-[10px] text-gray-500",children:ea.name})]}),(0,a.jsx)(x.Z,{className:"w-4 h-4 text-gray-400 ml-auto"})]}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-end gap-2",children:(0,a.jsx)("span",{className:"text-2xl font-mono text-white",children:V?(0,a.jsx)(u,{className:"w-6 h-6 animate-spin text-gray-500"}):v||"0.00"})})]})]}),ee&&c&&parseFloat(c)>0&&(parseFloat(c)<ee.minAmount||parseFloat(c)>ee.maxAmount)&&(0,a.jsx)("div",{className:"mt-3 p-2 rounded-lg bg-terminal-yellow/10 border border-terminal-yellow/20",children:(0,a.jsxs)("p",{className:"text-terminal-yellow text-xs",children:["Amount must be between ",ee.minAmount," and ",ee.maxAmount," ",es.symbol]})}),!(0,y.tg)(s,l)&&(0,a.jsx)("div",{className:"mt-3 p-2 rounded-lg bg-red-500/10 border border-red-500/20",children:(0,a.jsx)("p",{className:"text-red-400 text-xs",children:"This swap pair is not currently supported"})}),(0,a.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-obsidian-800/50 border border-obsidian-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-monero-orange/10",children:(0,a.jsx)(p.Z,{className:"w-4 h-4 text-monero-orange"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-white font-medium",children:"Privacy Protection Active"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:(null==q?void 0:q.chainType)==="XMR"?(0,a.jsxs)(a.Fragment,{children:["Ring Signatures with ",w," mixins + RingCT"]}):(null==_?void 0:_.chainType)==="XMR"?(0,a.jsx)(a.Fragment,{children:"Recipient will receive via stealth addresses"}):(0,a.jsx)(a.Fragment,{children:"Cross-chain privacy bridge with zero-knowledge proofs"})})]}),(0,a.jsx)(g.Z,{className:"w-4 h-4 text-terminal-green"})]})}),(0,a.jsx)(r.M,{children:"idle"!==J&&(0,a.jsx)(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-obsidian-800/50 border border-obsidian-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Swap Progress"}),(0,a.jsxs)("span",{className:"text-xs terminal-text",children:["preparing"===J&&"Preparing privacy protocol...","signing"===J&&"Generating ring signatures...","broadcasting"===J&&"Broadcasting transaction...","complete"===J&&"Swap complete!"]})]}),(0,a.jsx)("div",{className:"flex gap-1",children:["preparing","signing","broadcasting","complete"].map((e,t)=>{let s=["idle","preparing","signing","broadcasting","complete"].indexOf(J),n=e===J;return(0,a.jsx)("div",{className:"flex-1 h-1 rounded-full transition-all ".concat(t<s?"bg-terminal-green":n?"bg-monero-orange animate-pulse":"bg-obsidian-700")},e)})})]})})}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(E,{onClick:Q,disabled:!$||"idle"!==J,stage:J,needsConnection:!I,onConnectClick:()=>{window.dispatchEvent(new CustomEvent("openWalletModal"))}})}),"btc"===s&&(0,a.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-terminal-yellow/10 border border-terminal-yellow/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 text-terminal-yellow mt-0.5"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"BTC will be sent to a stealth address. The counterparty will lock XMR before you can claim BTC."})]})}),(0,a.jsx)(r.M,{children:X&&(0,a.jsx)(k,{currencies:y.ck,selected:"from"===X?s:l,excludeId:"from"===X?l:s,onSelect:e=>{"from"===X?C(e.id):S(e.id),D(null)},onClose:()=>D(null)})}),(0,a.jsx)(r.M,{children:B&&(0,a.jsx)(F,{slippage:N,mixinCount:w,onClose:()=>H(!1)})})]})}var O=s(1452);function U(e){let{}=e,[t,s]=(0,n.useState)(!0),[r,l]=(0,n.useState)("mixing"),[c,d]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(()=>{let e=[];for(let t=0;t<10;t++){let s=t/10*Math.PI*2,a=80+20*Math.random();e.push({id:t,x:100+Math.cos(s)*a,y:100+Math.sin(s)*a,opacity:.3+.3*Math.random()})}d(e)})();let e=setTimeout(()=>{l("signing")},2e3),t=setTimeout(()=>{l("complete")},4e3);return()=>{clearTimeout(e),clearTimeout(t)}},[]),(0,a.jsxs)("div",{className:"card p-4 h-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-monero-orange"}),(0,a.jsx)("span",{className:"font-semibold text-white",children:"Ring Signature"}),(0,a.jsx)("div",{className:"ml-auto",children:t&&(0,a.jsx)(u,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),(0,a.jsxs)("div",{className:"relative w-full aspect-square flex items-center justify-center bg-obsidian-950 rounded-xl overflow-hidden",children:[(0,a.jsxs)("svg",{className:"absolute inset-0 w-full h-full opacity-10",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:(0,a.jsx)("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),(0,a.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]}),(0,a.jsxs)("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 200 200",children:[c.map((e,t)=>(0,a.jsx)(i.E.circle,{cx:e.x,cy:e.y,r:"signing"===r?6:4,fill:"complete"===r?"#00FF41":"#4B5563",opacity:e.opacity,animate:{r:"signing"===r?[6,8,6]:4,opacity:"signing"===r?[e.opacity,.6,e.opacity]:e.opacity},transition:{duration:"signing"===r?1:.5,repeat:"signing"===r?1/0:0}},e.id)),(0,a.jsx)(i.E.circle,{cx:"100",cy:"100",r:"complete"===r?10:8,fill:"complete"===r?"#F26822":"#6B7280",animate:{r:"signing"===r?[8,12,8]:8,fill:"complete"===r?"#F26822":"#6B7280"},transition:{duration:"signing"===r?1:.5,repeat:"signing"===r?1/0:0}}),"signing"===r&&c.map((e,t)=>(0,a.jsx)(i.E.line,{x1:"100",y1:"100",x2:e.x,y2:e.y,stroke:"#F26822",strokeWidth:"1",strokeOpacity:"0.3",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,delay:.1*t}},"line-".concat(e.id)))]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:"complete"===r?(0,a.jsx)(i.E.div,{initial:{scale:0},animate:{scale:1},className:"w-16 h-16 rounded-full bg-monero-orange flex items-center justify-center shadow-lg shadow-monero-orange/50",children:(0,a.jsx)(O.Z,{className:"w-8 h-8 text-white"})}):(0,a.jsx)(i.E.div,{className:"w-12 h-12 rounded-full bg-obsidian-800 flex items-center justify-center border border-obsidian-700",children:(0,a.jsx)("span",{className:"text-xs font-mono text-gray-400",children:"?"})})})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 rounded-lg bg-obsidian-800/50 border border-obsidian-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("complete"===r?"bg-terminal-green animate-pulse":"signing"===r?"bg-monero-orange animate-pulse":"bg-terminal-yellow")}),(0,a.jsx)("span",{className:"text-sm text-white",children:(()=>{switch(r){case"mixing":return"Selecting decoy outputs...";case"signing":return"Constructing ring signature...";case"complete":return"Signature generated!";default:return"Initializing..."}})()})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:"Decoys: 10"}),(0,a.jsxs)("span",{children:["Privacy: ","complete"===r?"100%":"signing"===r?"60%":"20%"]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-monero-orange"}),(0,a.jsx)("span",{className:"text-gray-500",children:"Actual Output"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-500"}),(0,a.jsx)("span",{className:"text-gray-500",children:"Decoys"})]})]})]})}var B=s(7255),H=s(7856);function V(){let e=[{icon:(0,a.jsx)(o.Z,{className:"w-5 h-5"}),title:"Ring Signatures",description:"Your sender identity is mixed with 10+ other outputs",color:"monero-orange"},{icon:(0,a.jsx)(g.Z,{className:"w-5 h-5"}),title:"Stealth Addresses",description:"Recipients receive funds at one-time addresses",color:"terminal-green"},{icon:(0,a.jsx)(B.Z,{className:"w-5 h-5"}),title:"RingCT",description:"Transaction amounts are cryptographically hidden",color:"blue-400"}];return(0,a.jsxs)("div",{className:"card p-4 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(H.Z,{className:"w-5 h-5 text-monero-orange"}),(0,a.jsx)("span",{className:"font-semibold text-white",children:"Privacy Tech"})]}),(0,a.jsx)("div",{className:"flex-1 space-y-3",children:e.map((e,t)=>(0,a.jsx)(i.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-3 rounded-lg bg-obsidian-800/50 border border-obsidian-700 hover:border-monero-orange/30 transition-colors group cursor-pointer",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-".concat(e.color,"/10 text-").concat(e.color),children:e.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-white font-medium group-hover:text-monero-orange transition-colors",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.description})]}),(0,a.jsx)(Z.Z,{className:"w-4 h-4 text-gray-600 group-hover:text-monero-orange transition-colors opacity-0 group-hover:opacity-100"})]})},e.title))}),(0,a.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-terminal-green/5 border border-terminal-green/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-terminal-green mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-terminal-green font-medium",children:"Zero-Knowledge Privacy"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"All cryptographic operations happen locally in your browser. No private keys or view keys are transmitted."})]})]})}),(0,a.jsxs)("a",{href:"https://www.getmonero.org/resources/developer-guides/",target:"_blank",rel:"noopener noreferrer",className:"mt-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-obsidian-800/50 border border-obsidian-700 hover:border-monero-orange/30 transition-colors text-sm text-gray-400 hover:text-white",children:[(0,a.jsx)("span",{children:"Learn about Monero Privacy"}),(0,a.jsx)(M.Z,{className:"w-4 h-4"})]})]})}var W=s(4803),X=s(5458),D=s(8811),J=s(8855);function Y(){let[e,t]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),c=(0,D.useMoneroWASM)(),{walletState:d}=(0,f.X$)();(0,n.useEffect)(()=>{let e=setTimeout(()=>{c.isLoading=!1,c.isLoaded=!0},2e3);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{let e=()=>t(!0);return window.addEventListener("openWalletModal",e),()=>window.removeEventListener("openWalletModal",e)},[]);let m=y.ck.length,x=y.Gw.filter(e=>"XMR"!==e.type).length;return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col relative overflow-hidden text-white selection:bg-white selection:text-black",children:[(0,a.jsx)("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-[0.03] bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"}),(0,a.jsx)(l.Z,{onConnectWallet:()=>t(!0),walletConnected:d.isConnected,walletAddress:d.address,walletProvider:d.provider}),(0,a.jsxs)("main",{className:"flex-1 flex flex-col items-center justify-start pt-32 pb-20 px-6 relative z-10",children:[(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16 max-w-3xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,a.jsx)("span",{className:"text-[10px] font-mono text-obsidian-500 uppercase tracking-widest",children:"System Operational"})]}),(0,a.jsxs)("h1",{className:"text-5xl md:text-6xl font-serif text-white mb-6 tracking-tight",children:["Zero-Knowledge ",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-obsidian-500",children:"Liquidity Layer"})]}),(0,a.jsxs)("p",{className:"text-obsidian-400 text-lg max-w-xl mx-auto font-light leading-relaxed",children:["Cross-chain atomic swaps with mathematical privacy.",(0,a.jsx)("span",{className:"block mt-2 text-xs font-mono text-obsidian-600 uppercase tracking-wider",children:"Ring Signatures • Stealth Addresses • Bulletproofs"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12 mt-10 border-t border-obsidian-800/50 pt-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-serif text-white",children:[m,"+"]}),(0,a.jsx)("div",{className:"text-[10px] font-mono text-obsidian-500 uppercase tracking-widest mt-1",children:"Assets"})]}),(0,a.jsx)("div",{className:"w-px h-8 bg-obsidian-800 hidden sm:block"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-serif text-white",children:x}),(0,a.jsx)("div",{className:"text-[10px] font-mono text-obsidian-500 uppercase tracking-widest mt-1",children:"Chains"})]}),(0,a.jsx)("div",{className:"w-px h-8 bg-obsidian-800 hidden sm:block"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-serif text-white",children:"0"}),(0,a.jsx)("div",{className:"text-[10px] font-mono text-obsidian-500 uppercase tracking-widest mt-1",children:"KYC"})]})]})]}),(0,a.jsxs)("div",{className:"w-full max-w-5xl flex flex-col lg:flex-row gap-8 items-start justify-center",children:[(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex-1 w-full max-w-lg mx-auto lg:max-w-none",children:(0,a.jsx)(z,{onVisualizing:o})}),(0,a.jsx)(i.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"w-full lg:w-80 flex-shrink-0",children:(0,a.jsx)(r.M,{mode:"wait",children:s?(0,a.jsx)(U,{},"visualizer"):(0,a.jsx)(V,{},"info")})})]}),(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-12 w-full max-w-4xl",children:(0,a.jsx)("div",{className:"bento-card p-4 bg-obsidian-950/50 backdrop-blur-md border-obsidian-800",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 text-xs font-mono",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(c.isLoaded?"bg-emerald-500":"bg-amber-500 animate-pulse")}),(0,a.jsxs)("span",{className:"text-obsidian-400 uppercase tracking-wider",children:["WASM: ",c.isLoading?"INIT...":"READY"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(d.isConnected?"bg-emerald-500":"bg-obsidian-600")}),(0,a.jsx)("span",{className:"text-obsidian-400 uppercase tracking-wider",children:d.isConnected?"LINKED":"OFFLINE"})]})]}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-4 text-obsidian-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(O.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"SECURE"})]}),(0,a.jsx)("div",{className:"w-px h-3 bg-obsidian-800"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(J.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"v1.0.4"})]})]})]})})})]}),(0,a.jsx)(W.Z,{}),(0,a.jsx)(r.M,{children:e&&(0,a.jsx)(X.Z,{onClose:()=>t(!1)})})]})}},2450:function(e,t,s){"use strict";s.d(t,{E:function(){return r}});let a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJwYnRna3VucmR6Y295ZmRoc2toIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5MjAzNzUsImV4cCI6MjA3ODQ5NjM3NX0.ZAtjUoDnIWUOs6Os1NUGKIRUQVOuXDlaCJ4HwQqZu50",n={"Content-Type":"application/json",Authorization:"Bearer ".concat(a),apikey:a};class i{async createTransaction(e){try{let t=await fetch("".concat(this.baseUrl,"/functions/v1/swap-transactions"),{method:"POST",headers:n,body:JSON.stringify(e)});if(!t.ok)return console.error("API Error:",t.status,await t.text()),null;let s=await t.json();return s.data||s}catch(e){return console.error("Failed to create transaction:",e),null}}async getTransactions(e){try{let t=e?"".concat(this.baseUrl,"/functions/v1/swap-transactions?address=").concat(encodeURIComponent(e)):"".concat(this.baseUrl,"/functions/v1/swap-transactions"),s=await fetch(t,{method:"GET",headers:n});if(!s.ok)return console.error("API Error:",s.status,await s.text()),[];let a=await s.json();return a.data||a||[]}catch(e){return console.error("Failed to fetch transactions:",e),[]}}async updateTransactionStatus(e,t,s){try{return(await fetch("".concat(this.baseUrl,"/functions/v1/swap-transactions"),{method:"PATCH",headers:n,body:JSON.stringify({id:e,status:t,txHash:s})})).ok}catch(e){return console.error("Failed to update transaction:",e),!1}}async getExchangeRate(e,t){try{let s=await fetch("".concat(this.baseUrl,"/functions/v1/swap-rates?from=").concat(encodeURIComponent(e),"&to=").concat(encodeURIComponent(t)),{method:"GET",headers:n});if(!s.ok)return console.error("API Error:",s.status,await s.text()),null;let a=await s.json();return a.data||a}catch(e){return console.error("Failed to fetch exchange rate:",e),null}}constructor(){this.baseUrl="https://bpbtgkunrdzcoyfdhskh.supabase.co"}}let r=new i},8855:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7794).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},4455:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7794).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7856:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7794).Z)("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},7255:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7794).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4903:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7794).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9621:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7794).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},1359:function(e,t,s){"use strict";s.d(t,{Y:function(){return o}});var a=s(3725),n=s(9751),i=s(2450);let r=()=>"tx_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),l=()=>new Date().toISOString().replace("T"," ").substring(0,16),o=(0,a.Ue)()((0,n.tJ)((e,t)=>({transactions:[],isLoading:!1,lastSyncedAddress:null,addTransaction:async(t,s)=>{let a=r(),n=l(),o={...t,id:a,date:n};e(e=>({transactions:[o,...e.transactions]}));try{let n={fromToken:t.fromToken,toToken:t.toToken,fromAmount:t.fromAmount,toAmount:t.toAmount,status:t.status,txHash:t.txHash,walletAddress:s},r=await i.E.createTransaction(n);if(r)return e(e=>({transactions:e.transactions.map(e=>e.id===a?{...e,id:r.id}:e)})),r.id}catch(e){console.error("Failed to sync transaction to server, keeping local:",e)}return a},updateTransactionStatus:async(t,s,a)=>{e(e=>({transactions:e.transactions.map(e=>e.id===t?{...e,status:s,txHash:a||e.txHash}:e)}));try{await i.E.updateTransactionStatus(t,s,a)}catch(e){console.error("Failed to sync status update to server:",e)}},clearHistory:()=>{e({transactions:[],lastSyncedAddress:null})},fetchTransactions:async s=>{e({isLoading:!0});try{let a=await i.E.getTransactions(s);if(a.length>0){let n=t().transactions,i=new Set(a.map(e=>e.id)),r=n.filter(e=>!i.has(e.id)&&e.id.startsWith("tx_"));e({transactions:[...r,...a],lastSyncedAddress:s||null})}}catch(e){console.error("Failed to fetch transactions from server:",e)}finally{e({isLoading:!1})}}}),{name:"moneroswap-transactions"}))}},function(e){e.O(0,[471,735,256,677,913,230,481,744],function(){return e(e.s=9673)}),_N_E=e.O()}]);